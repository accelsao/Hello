// ?i?i?i?????????????????????????????????????????????????????????????????????????i
// ?i?i?i???i?i?i?i?i?i?i???????????????????????????????i?i?i?????????i???????????i
// ?i?i?i?i?i?i?i???i?i?i?i?i???????????????????????i?i?i?????????????????????????i
// ?i?i?i?i???????????????i?i?i?i?i????????????i?i?i????????????????????????????i
// ?i?i?i???????????????????????i?i???????????????????????????????????????????????i
// ?i?i?i?i???????????????????????i???????????????????????????????????????????????i
// ?i?i?i???i???i?i?i?i?i?i?i?????i?i?i?????????????????i?i?i?i?i?i?i?????????????i
// ?i?i?i?i?i?i?i?i?i?i?i?i?i?i?i?i???i??????????????????????????????????????????i
// ?i?i?i?????????????????????????????i???????????????????????????????????????????i
// ?i?i?i?i???????????????????????????i???????????????????????????????????????????i
// ?i?i?i???i?????????????????????????????????????????????????????????????????????i
// ?i?i?i?i?i?????????????????i???????i???????????????????????????????????????????i
// ?i?i?i?i?i???????????????i?i???????i????????????????????????????????????????i?i
// ?i?i?i?i?i???????????i?i?i?i???????i????????????????????????????????????????i?i
// ?i?i?i?i???i?????????i?i?????????i?i????????????????????????????????????????i?i
// ?i?i?i?i?????i?i?i???????????????i?i??????????????????????????i?????????????i?i
// ?i?i?i?i?i???i?i?i?????????????????i?i?i?i??????????????????i???????????????i?i
// ?i?i?i?i?i?????i???i?i?i???????i?i?i?i?????i???????????????i??????????????i?i?i
// ?i?i?i?i?i?i???i?i???i?i?i?i?i?i?i???????????????????i?i???????????????????i?i?i
// ?i?i?i?i?i?i?i???i?i????????????????????????????????????????????????????i?i?i?i
// ?i?i?i?i?i?i?i?????i?i???????????????????????????????????????????????????i?i?i?i
// ?i?i?i?i?i?i?i?i???????i?i?i?i?i???????????????????????????????????????i?i?i?i?i
// ?i?i?i?i?i?i?i?i?i???????i???????????i?i?i???????????????????????????i?i?i?i?i?i
// ?i?i?i?i?i?i?i?i?i?i???????i???????????i?i?????????????????????????i?i?i?i?i?i?i
// ?i?i?i?i?i?i?i?i?i?i?i?????i?????????i?i?i???????????????????????i?i?i?i?i?i?i?i
// ?i?i?i?i?i?i?i?i?i?i?i?i?i?i???????i?i?i????????????????????i?i?i?i?i?i?i?i?i?i
// ?i?i?i?i?i?i?i?i?i?i?i?i?i?i?i???????i?i???????????????????i?i?i?i?i?i?i?i?i?i?i
#include <bits/stdc++.h>
using namespace std;
//#define DEBUG
#define RE(a,b) memset(a,b,sizeof a)
#define F first
#define S second
#define SZ(x) ((int)(x.size()))
#define PB push_back
#define ALL(X) (X).begin(), (X).end()
using ll = long long;
using ld = long double;
using ull = unsigned long long;
using pii = pair<int,int>;
using C = complex<double>;
const double PI = 3.14159265;
const double eps = 1e-8;
const int N = 1<<20;
const int M = 1e9 + 7;
const int inf = 1e9+7;
const ll INF = 1e18;
ll pw(ll a, ll b){ll t=1;a%=M;for(;b;b>>=1){if(b&1){t=t*a%M;}a=a*a%M;}return t;}
ll gcd(ll a, ll b){return b?gcd(b, a%b): a;}

int n, m, q;
int a[N];
int ans[N];
vector<int> g[N];
int f[N];
void add(int x){
	while(x<N){
		f[x]++;
		x+=x&-x;
	}
}
int find(int p){
	int z=0;
	for(int i=N>>1;i;i>>=1){
		if(f[z+i]<p){
			p-=f[z+i];
			z+=i;
		}
	}
	return z+1;
}

int main(){
	ios::sync_with_stdio(0),cin.tie(0),cout.tie(0);
	cin>>n>>m>>q;
	int x;
	for(int i=0;i<n;i++){
		cin>>x;
		a[x]++;
	}
	for(int i=1;i<=m;i++){
		g[a[i]].PB(i);
	}
	vector<pair<ll, int>> qry(q);
	for(int i=0;i<q;i++){
		cin>>qry[i].F;
		qry[i].S=i;
	}
	sort(qry.begin(),qry.end());
	ll sum=n;
	int j=0, cnt=0;
	
	for(int i=0;i<=n;i++){
		for(int x:g[i]){
			add(x);
			cnt++;
		}
		while(j<q&&sum+cnt>=qry[j].F){
			int k=(qry[j].F-sum-1)%cnt;
			#ifdef DEBUG
				printf("k: %d\n", k);
				for(const int& x:pos){
					printf("%d ", x);
				}
				printf("\n");
			#endif

			ans[qry[j].S]=find(k+1);
			j++;
		}
		sum+=cnt;
	}
	while(j<q){
		int k=(qry[j].F-sum-1)%m;
		ans[qry[j].S]=find(k+1);
		j++;
	}
	for(int i=0;i<q;i++){
		cout<<ans[i]<<"\n";
	}
}

/*
#ifdef DEBUG
	cout<<"I Love Co shu Nie [ https://coshunie.com/ ]"
#endif
*/


